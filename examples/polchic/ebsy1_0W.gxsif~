! ============================================================================== ;
! area=ebsy1 (hybrid; 500 gev cm) ;
! ------------------------------------------------------------------------------
! prerequisite files ($ilc = ilc lattice root directory): ;
!   ilc_common.gxsif" ;
!   bds_common.gxsif" ;
! ------------------------------------------------------------------------------
! 31-oct-2006, m. woodley [slac] ;
!    hybrid design (250 gev) ;
! ------------------------------------------------------------------------------
!=============================================================================
!constants
magOutR=0.65; !magnets' outer radius
!============================================================================

! ============================================================================== ;
! sbendds ;
! ------------------------------------------------------------------------------

! polarimeter chicane ;
! (note: the polarimeter chicane bends will operate at constant integrated ;
!        field ... peak dispersion scales inversely with energy) ;

  pcdx := 0.010/efact   ;!peak polarimeter dispersion (m) ;
  bbpc := 0.96921203584 ;!chicane bend pole-tip field (kg) ;
  zbpc := 2.4           ;!chicane bend pole "z" length (m) ;
  gbpc := 0.01          ;!chicane bend half-gap (m) ;

  rbpc := brho_bds/bbpc         ;!bend radius (m) ;
  abpc := 2*asin(0.5*zbpc/rbpc) ;!bend angle (rad) ;
  lbpc := rbpc*abpc             ;!effective length (m) ;

!bpcp : sbend, l=lbpc, hgap=gbpc, angle=+abpc,
!             e1=+abpc/2, fint=0.5, e2=+abpc/2, fintx=0.5 ;

  bpcpa : sbend, l=lbpc/2, hgap=gbpc, angle=+abpc/2,
                e1=+abpc/2, fint=0.5, fintx=0 , outR=magOutR;
  bpcpb : sbend, l=lbpc/2, hgap=gbpc, angle=+abpc/2,
                fint=0, e2=+abpc/2, fintx=0.5 , outR=magOutR;
  bpcp : line=(bpcpa,bpcpb) ;

 bpcpa_WINDOW : sbend, l=lbpc/2, hgap=gbpc, angle=+abpc/2,
                e1=+abpc/2, fint=0.5, fintx=0 , outR=magOutR;
  bpcpb_WINDOW : sbend, l=lbpc/2, hgap=gbpc, angle=+abpc/2,
                fint=0, e2=+abpc/2, fintx=0.5, outR=magOutR ;
  bpcp_WINDOW : line=(bpcpa_WINDOW,bpcpb_WINDOW) ;

!bpcm : sbend, outR=magOutR,  l=lbpc, hgap=gbpc, angle=-abpc,
!             e1=-abpc/2, fint=0.5, e2=-abpc/2, fintx=0.5 ;

  bpcma : sbend, outR=magOutR,  l=lbpc/2, hgap=gbpc, angle=-abpc/2,
                e1=-abpc/2, fint=0.5, fintx=0 ;
  bpcmb : sbend, outR=magOutR,  l=lbpc/2, hgap=gbpc, angle=-abpc/2,
                fint=0, e2=-abpc/2, fintx=0.5 ;
  bpcm : line=(bpcma,bpcmb) ;

 bpcma_WINDOW : sbend, outR=magOutR,  l=lbpc/2, hgap=gbpc, angle=-abpc/2,
                e1=-abpc/2, fint=0.5, fintx=0 ;
  bpcmb_WINDOW : sbend, outR=magOutR,  l=lbpc/2, hgap=gbpc, angle=-abpc/2,
                fint=0, e2=-abpc/2, fintx=0.5 ;
  bpcm_WINDOW : line=(bpcma_WINDOW,bpcmb_WINDOW) ;

! bend-to-bend path lengths ;

  pcang  := 3*abpc            ;!net bend (first group) ;
  zpcbbo := 16.1              ;!outer bend-to-bend "z" spacing (m) ;
  lpcbbo := zpcbbo/cos(pcang) ;!outer bend-to-bend path length (m) ;
  lpcbbi := 8.0               ;!inner bend-to-bend "z" spacing (m) ;
  lpcbb  := 0.3               ;!path length between bends in a group ;
  lcher:=0.1*m                ;!length of laserwire cher detector (deacon)

  dpcbbo : drift, l=lpcbbo ;
!  dpcbboA : drift, l=lpcbbo - llead - lcher; !deacon, shortened drift to include lw detector

 dpcbbo_bps_A : drift, l=lpcbbo - llead - lcher-4.56*m; !deacon, shortened drift to study beam pipe showering
dpcbbo_bps_B : drift, l=llead+lcher+1.56*m-2*m; !drift in place of lw detector
dbps2: drift,l=0.7*m;
	!dbps: drift, l=16*cm; !deacon- 25 16cm drifts will be placed with samplers in bewteen in order to study beam pipe showering
dbpsLead: drift, l=16*cm-llead; !deacon- 25 16cm drifts will be placed with samplers in bewteen in order to study beam pipe showering

!============================================================================
 !Removed beam pipe in this section to create a window for laser wire photons
!----------------------------------------------------------------------------
dpcbboA_WINDOW : drift, l=lpcbbo - llead - lcher; !deacon, shortened drift to include lw detector
	 cher_WINDOW : drift, l=lcher; !deacon, cherenkov detector
  dpcbbo_bps_A_WINDOW : drift, l=lpcbbo - llead - lcher-4.56*m;
	dpcbbo_bps_B_WINDOW : drift, l=llead+lcher+1.56*m-2*m; 
dbps2_WINDOW: drift,l=0.7*m;
dbps_WINDOW: drift, l=16*cm;
dbpsLead_WINDOW: drift, l=16*cm-llead; 
!-----------------------------------------------------------------------------




	 !cher : drift, l=lcher; !deacon, cherenkov detector
  dpcbbi : drift, l=lpcbbi/2 ;
  dpcbb  : drift, l=lpcbb ;

! ============================================================================== ;
! quadrupoles ;
! ------------------------------------------------------------------------------

! 90 deg collimation cells (to collimate the beam offsets and angles ;
! out of large r=35 mm linac aperture into the smaller bsy r=6 mm aperture) ;

  bqf90c :=  9.536306145465*efact ;
  bqd90c := -bqf90c ;

  qf90c : qbds4, k1=bqf90c*qfact4 ;
  qd90c : qbds4, k1=bqd90c*qfact4 ;

  bqmbsy1 :=  6.508276846743*efact ;
  bqmbsy2 := -6.494563703731*efact ;

  qmbsy1 : qbds4, k1=bqmbsy1*qfact4 ;
  qmbsy2 : qbds4, k1=bqmbsy2*qfact4 ;

! skew correction section ;

  bqf90  :=  9.32870009865*efact ;
  bqd90  := -bqf90 ;
  bqf180 :=  6.383725219681*efact ;
  bqd180 := -4.784847000827*efact ;

  qf90  : qbds2, k1=bqf90*qfact2 ;
  qd90  : qbds2, k1=bqd90*qfact2 ;
  qf180 : qbds3, k1=bqf180*qfact3 ;
  qd180 : qbds3, k1=bqd180*qfact3 ;

  bsq1 := 0 ;!1.0e-6 ;
  bsq2 := 0 ;!1.0e-6 ;
  bsq3 := 0 ;!1.0e-6 ;
  bsq4 := 0 ;!1.0e-6 ;

  sq1 : qbds1, k1=bsq1*qfact1, tilt=PI/4 ;
  sq2 : qbds1, k1=bsq2*qfact1, tilt=PI/4 ;
  sq3 : qbds1, k1=bsq3*qfact1, tilt=PI/4 ;
  sq4 : qbds1, k1=bsq4*qfact1, tilt=PI/4 ;

! match from skew correction section to emittance diagnostic section ;

  bqd9045a := -7.137175038639*efact ;
  bqf9045  :=  7.350435685243*efact ;
  bqd9045b := -5.016845655428*efact ;

  qd9045a : qbds2, k1=bqd9045a*qfact2 ;
  qf9045  : qbds2, k1=bqf9045*qfact2 ;
  qd9045b : qbds2, k1=bqd9045b*qfact2 ;

! emittance diagnostic section ;

  bqd45 := -4.543223300887*efact ;
  bqf45 := -bqd45 ;

  qd45 : qbds2, k1=bqd45*qfact2 ;
  qf45 : qbds2, k1=bqf45*qfact2 ;

! match from emittance diagnostic section to polarimeter chicane ;

  bqf45chi :=  9.323543432828*efact ;
  bqd45chi := -8.633351024841*efact ;
  bqd45cho := -9.17503150279*efact ;
  bqf45cho :=  9.585806003815*efact ;

  qf45chi : qbds2, k1=bqf45chi*qfact2 ;
  qd45chi : qbds2, k1=bqd45chi*qfact2 ;
  qd45cho : qbds2, k1=bqd45cho*qfact2 ;
  qf45cho : qbds2, k1=bqf45cho*qfact2 ;

! ============================================================================== ;
! colls ;
! ------------------------------------------------------------------------------

  lcebsy := 3.0 ;

  xcebsy1 := 25e-3 ;
  xcebsy2 := 15e-3 ;
  xcebsy3 :=  6e-3 ;

  ycebsy1 := 25e-3 ;
  ycebsy2 := 15e-3 ;
  ycebsy3 :=  6e-3 ;

  cebsy1 : ecol, l=lcebsy, xsize=xcebsy1, ysize=ycebsy1, material="TitaniumAlloy" ;
  cebsy2 : ecol, l=lcebsy, xsize=xcebsy2, ysize=ycebsy2, material="TitaniumAlloy" ;
  cebsy3 : ecol, l=lcebsy, xsize=xcebsy3, ysize=ycebsy3, material="TitaniumAlloy" ;

  xcebsye := 0.1*pcdx ;!defines extraction line bandpass (+-10%) ;

  cebsye : element, l=lcebsy, geometry="mokka:/scratch0/deacon/BDSIM/examples/collimators/cebsye_filelist.sql";
!  cebsye : rcol, l=lcebsy, xsize=xcebsye, ysize=30e-3, material="TitaniumAlloy" ,outR=6*cm; !deacon 15_6_07 assigned material, ysize and outR to collimators.

	coll_line: line=(cebsye);

! ============================================================================== ;
! driftts ;
! ------------------------------------------------------------------------------

! cell and matching driftts ;

  lmls   :=  0.2            ;!cryo service box end to 1st bsy quadrupolerupole ;
  lqqc   :=  0.15           ;!half-driftt between coll. quadrupoles in a pair ;
  lmbsy1 := 17.522345386364 ;!linac-to-mps matching driftt ;
  lmbsy2 := 10.939162704069 ;!linac-to-mps matching driftt ;
  l90c   := 12.5            ;!90 degree collimation cell driftt ;
  l90cs  := 12.5            ;!collimation to skew cell driftt ;
  l90    := 14.508          ;!90 degree cell driftt ;
  l180a  :=  9.567630675751 ;!180 degree cell driftt (1) ;
  l180b  :=  8.960826143766 ;!180 degree cell driftt (2) ;
  l9045a := 18.662314109875 ;!90/45 matching driftt (1) ;
  l9045b := 14.555271141203 ;!90/45 matching driftt (2) ;
  l45    := 16.19481589514  ;!45 degree cell driftt ;
  l45cha := 63.22           ;!45 to chicane driftt (1) ;
  l45chb :=  2.5            ;!45 to chicane driftt (2) ;
  l45chc :=  1.0            ;!45 to chicane driftt (3) ;
  lpcdet :=  2.0            ;!space for polarimeter cerenkov detector ;
  l45chk :=  0.5            ;!to start of extraction kickers ;

  dmls   : drift, l=lmls ;
  dqqc   : drift, l=lqqc ;
  dmbsy1 : drift, l=lmbsy1 ;
  dmbsy2 : drift, l=lmbsy2 ;
  d90c   : drift, l=l90c ;
  d90cs  : drift, l=l90cs ;
  d90    : drift, l=l90 ;
  d180a  : drift, l=l180a ;
  d180b  : drift, l=l180b ;
  d9045a : drift, l=l9045a ;
  d9045b : drift, l=l9045b ;
  d45    : drift, l=l45 ;
  d45cha : drift, l=l45cha ;
  d45chb : drift, l=l45chb ;
  d45chc : drift, l=l45chc ;
  dpcdet_half : drift, l=lpcdet/2 ;
  d45chk : drift, l=l45chk ;

! driftts around collimators ;

  lcqebsy := 0.5 ;

  dcqebsy : drift, l=lcqebsy ;
  d90ca   : drift, l=l90c-lcqebsy-lcebsy ;
  d90cb   : drift, l=l90cs-lcqebsy-lcebsy ;
  dpcbc   : drift, l=lcqebsy ;
  dpcbcA   : drift, l=lcqebsy -llead -lcher; !deacon

! driftts around skew quadrupoles and marker scanners ;

  lqsq  := 2.313          ;!skew-quadrupole-to-quadrupole driftt ;
  lqws  := 0.5            ;!quadrupole-to-marker-scanner driftt ;
  lws45 := 2.369530482396 ;!location adjustment for first marker scanner ;
  lfbq  := 0.5            ;!feedback-kicker-to-quadrupole driftt ;

  d90a    : drift, l=l90-(lqsq+l50cm) ;
  d90b    : drift, l=lqsq ;
  d180aa  : drift, l=l180a-(lqsq+l50cm) ;
  d180ab  : drift, l=lqsq ;
  d9045ba : drift, l=lqws+lws45 ;
  d9045bb : drift, l=l9045b-(lqws+lws45) ;
  d45a    : drift, l=lqws ;
  d45b    : drift, l=l45-lqws ;
  d45chaa : drift, l=lqws ;
  d45chab : drift, l=l45cha-lqws ;

! driftts around feedback correctors and kickers ;

  dfb1 : drift, l=lqsq-(lfbc/2+lspace+lfbk+lfbq) ;
  dfb2 : drift, l=lfbc/2+lspace+lfbk/2 ;
  dfb3 : drift, l=lfbq+lfbk/2                       ;!;! added lfbk/2 ;
  dfb4 : drift, l=l9045a-(lfbc/2+lspace+lfbk+lfbq) ;

! for matching ;

!dc1c : drift, l=(2*dc1i[l]+lcebsy+lcqebsy)/2 ;

! ============================================================================== ;
! diagnostics, etc. ;
! ------------------------------------------------------------------------------

  !wsebsy1_1 : wsl1 ;
  !wsebsy1_2 : wsl1 ;
  !wsebsy1_3 : wsl1 ;
  !wsebsy1_4 : wsl1 ;

! ============================================================================== ;
! markers ;
! ------------------------------------------------------------------------------
	beg_lw_chicane : marker;
	pre_lwdet : marker ;
  beg_ebsy1 : marker ;
  begpol    : marker ;
 	endpol    : marker ;
  end_ebsy1 : marker ;
  wsebsy1_1 : marker ;
  wsebsy1_2 : marker ;
  wsebsy1_3 : marker ;
  wsebsy1_4_prelw : marker ;
 	wsebsy1_4_postlw : marker ;
! mdpcdet: marker; !polarimeter detector
	poldet: marker; !polarimeter detector

	s1 :marker; s2 :marker; s3 :marker; s4 :marker; s5 :marker; s6 :marker;
	s7 :marker; s8 :marker; s9 :marker; s10 :marker; s11 :marker; s12 :marker;
	s13 :marker; s14 :marker; s15 :marker; s16 :marker; s17 :marker; s18 :marker;
	s19 :marker; s20 :marker; s21 :marker; s22 :marker; s23 :marker; s24 :marker;
	s25 :marker; s26 :marker; s27 :marker; s28 :marker; s29 :marker; s30 :marker;
  s31 :marker; s32 :marker; s33 :marker; s34 :marker; s35 :marker;

mbps1: marker;
mbps2: marker;
mbps3: marker;
mbps4: marker;
mbps5: marker;
mbps6: marker;
mbps7: marker;
mbps8: marker;
mbps9: marker;
mbps10: marker;
mbps11: marker;
mbps12: marker;
mbps13: marker;
mbps14: marker;
mbps15: marker;
mbps16: marker;
mbps17: marker;
mbps18A: marker;
mbps18B: marker;
mbps19: marker;
mbps20: marker;
mbps21: marker;
mbps22: marker;
mbps23: marker;
mbps24: marker;
mbps25: marker;

bps_sampling_section_WINDOW: line =
 (mbps1, dbps_WINDOW, mbps2, dbps_WINDOW, mbps3, dbps_WINDOW, mbps4, dbps_WINDOW, mbps5, dbps_WINDOW, mbps6, dbps_WINDOW,
 mbps7, dbps_WINDOW, mbps8, dbps_WINDOW, mbps9, dbps_WINDOW, mbps10, dbps_WINDOW, mbps11, dbps_WINDOW,
 mbps12, dbps_WINDOW, mbps13, dbps_WINDOW, mbps14, dbps_WINDOW, mbps15, dbps_WINDOW, mbps16, dbps_WINDOW,
 mbps17, dbps_WINDOW, mbps18A,leadplate,mpbs18_B, dbps_WINDOWLead, mbps19, dbps_WINDOW, mbps20, dbps_WINDOW, mbps21, dbps_WINDOW,
 mbps22, dbps_WINDOW, mbps23, dbps_WINDOW, mbps24, dbps_WINDOW, mbps25, dbps_WINDOW);

bps_sampling_section: line =
 (mbps1, dbps, mbps2, dbps, mbps3, dbps, mbps4, dbps, mbps5, dbps, mbps6, dbps,
 mbps7, dbps, mbps8, dbps, mbps9, dbps, mbps10, dbps, mbps11, dbps,
 mbps12, dbps, mbps13, dbps, mbps14, dbps, mbps15, dbps, mbps16, dbps,
 mbps17, dbps, mbps18A,leadplate,mpbs18_B, dbpsLead, mbps19, dbps, mbps20, dbps, mbps21, dbps,
 mbps22, dbps, mbps23, dbps, mbps24, dbps, mbps25, dbps);


! ============================================================================== ;
! beamlines ;
! ------------------------------------------------------------------------------
  mpscol : line=( 
    dmls,
    qmbsy1,qmbsy1,dqqc,dqqc,
    qmbsy1,qmbsy1,dmbsy1,
    qmbsy2,qmbsy2,dqqc,dqqc,
    qmbsy2,qmbsy2,dmbsy2,cebsy1,dcqebsy,
    qf90c,qf90c,dqqc,dqqc,
    qf90c,qf90c,d90ca,cebsy2,dcqebsy,
    qd90c,qd90c,dqqc,dqqc,
    qd90c,qd90c,d90cb,cebsy3,dcqebsy,
    qf90) ;

  sksrc : line=( 
    qf90,d90,
    qd90,qd90,d90,
    qf90,qf90,d90,
    qd90,qd90,d180a,
    qf180,qf180,d180b,
    qd180,qd180,d180b,
    qf180,qf180,d180a,
    qd90,qd90,d90,
    qf90,qf90,d90,
    qd90,qd90,d90,
    qf90,qf90,d9045a,
    qd9045a,qd9045a,d9045b,
    qf9045,qf9045,d45,
    qd9045b,qd9045b,d45,
    qf45,qf45,d45,
    qd45,qd45,d45,
    qf45,qf45,d45,
    qd45,qd45,d45cha,
    qf45chi,qf45chi,d45chb,
    qd45chi,qd45chi,d45chc) ;

  polchic : line=(begpol,
    bpcp,dpcbb,bpcp,dpcbb,bpcp,
    dpcbbo,bpcm,dpcbb,bpcm,dpcbb,bpcm,
    dpcbc,cebsye,
    dpcbbi,pol,dpcbbi,
    bpcm,dpcbb,bpcm,dpcbb,bpcm,dpcbbo,
    bpcp,dpcbb,bpcp,dpcbb,bpcp,dpcdet,
    endpol) ;

  compton : line=(pol,dpcbbi,
    bpcm,dpcbb,bpcm,dpcbb,bpcm,dpcbbo,
    bpcp,dpcbb,bpcp,dpcbb,bpcp,dpcdet,
    endpol) ;

  ch2kick : line=( 
    qd45cho,qd45cho,d45chb,
    qf45cho,qf45cho,d45chk) ;


  ebsy10 : line=( 
    beg_ebsy1,
    mpscol,sksrc,polchic,ch2kick,
    end_ebsy1) ;

! with everything ;

  ebsy1 : line=( 
    beg_ebsy1,
    dmls,
    qmbsy1,bpmq315,mmover,qmbsy1,dqqc,dqqc,
    qmbsy1,bpmq315,mmover,qmbsy1,dmbsy1,
    qmbsy2,bpmq315,mmover,qmbsy2,dqqc,dqqc,
    qmbsy2,bpmq315,mmover,qmbsy2,dmbsy2,cebsy1,dcqebsy,
    qf90c,bpmq315,mmover,qf90c,dqqc,dqqc,
    qf90c,bpmq315,mmover,qf90c,d90ca,cebsy2,dcqebsy,
    qd90c,bpmq315,mmover,qd90c,dqqc,dqqc,
    qd90c,bpmq315,mmover,qd90c,d90cb,cebsy3,dcqebsy,
    qf90,bpmq047,mmover,qf90,d90a,
    sq1,sq1,d90b,
    qd90,bpmq047,mmover,qd90,d90,
    qf90,bpmq047,mmover,qf90,d90a,
    sq2,sq2,d90b,
    qd90,bpmq047,mmover,qd90,d180a,
    qf180,bpmq047,mmover,qf180,d180b,
    qd180,bpmq047,mmover,qd180,d180b,
    qf180,bpmq047,mmover,qf180,d180aa,
    sq3,sq3,d180ab,
    qd90,bpmq047,mmover,qd90,d90,
    qf90,bpmq047,mmover,qf90,d90a,
    sq4,sq4,dfb1,fbcxy,dfb2,fbkxy,dfb3,
    qd90,bpmmb047,mmover,qd90,d90,
    qf90,bpmmb047,mmover,qf90,dfb4,fbcxy,dfb2,fbkxy,dfb3,
    qd9045a,bpmmb047,mmover,qd9045a,d9045ba,
    wsebsy1_1,bpmw047,d9045bb,
    qf9045,bpmmb047,mmover,qf9045,d45,
    qd9045b,bpmmb047,mmover,qd9045b,d45a,wsebsy1_2,bpmw047,d45b,
    qf45,bpmmb047,mmover,qf45,d45,
    qd45,bpmmb047,mmover,qd45,d45a,wsebsy1_3,bpmw047,d45b,
    qf45,bpmmb047,mmover,qf45,d45,
    qd45,bpmmb047,mmover,qd45,d45chaa,wsebsy1_4_prelw,
	laser4,wsebsy1_4_postlw,bpmw047,d45chab, !replaced laser4 with marker for pol sim deacon 11_6_07
    qf45chi,bpmq047,mmover,qf45chi,d45chb,
    qd45chi,bpmq047,mmover,qd45chi,d45chc,
    begpol,s1,
    bpcp,s2,dpcbb,s3,bpcp,s4,dpcbb,s5,bpcp,s6,
    dpcbboA, s7,leadplate,s8,cher,s9,bpcm,s10,dpcbb,s11,bpcm,s12,dpcbb,s13,bpcm,s14,
    dpcbc,s15,cebsye,s16,bpme047,s17,
    dpcbbi,s18,pre_pol,pol,s19,post_pol,dpcbbi,s21, !pol->laser4
    bpcm,s22,dpcbb,s23,bpcm,s24,dpcbb,s25,bpcm,s26,dpcbbo,s27,
    bpcp,s28,dpcbb,s29,bpcp,s30,dpcbb,s31,bpcp,s32,dpcdet_half,s33,poldet,s34,dpcdet_half,s35, !deacon
    endpol,
    qd45cho,bpmq047,mmover,qd45cho,d45chb,
    qf45cho,bpmq047,mmover,qf45cho,d45chk,
    end_ebsy1) ;

lw_chicane : line=(beg_lw_chicane,
	d45chaa,wsebsy1_4_prelw, 
  laser4,wsebsy1_4_postlw,bpmw047,d45chab, !replaced laser4 with marker for pol sim deacon 11_6_07 
    qf45chi,bpmq047,mmover,qf45chi,d45chb, 
    qd45chi,bpmq047,mmover,qd45chi,d45chc, 
    begpol,s1, 
    bpcp,s2,dpcbb,s3,bpcp,s4,dpcbb,s5,bpcp,s6, 
    dpcbboA_WINDOW,s7,leadplate,s8,cher_WINDOW,s9,bpcm,s10,dpcbb,s11,bpcm,s12,dpcbb,s13,bpcm,s14, 
    dpcbc,s15,cebsye,s16,bpme047,s17, 
    dpcbbi,s18,pre_pol,pol,s19,post_pol,dpcbbi,s21, !pol->laser4 
    bpcm,s22,dpcbb,s23,bpcm,s24,dpcbb,s25,bpcm,s26,dpcbbo,s27, 
    bpcp,s28,dpcbb,s29,bpcp,s30,dpcbb,s31,bpcp,s32,dpcdet_half,s33,poldet,s34,dpcdet_half,s35, !deacon 
    endpol, 
    qd45cho,bpmq047,mmover,qd45cho,d45chb, 
    qf45cho,bpmq047,mmover,qf45cho,d45chk, 
    end_ebsy1) ; 

lw_chicane_no_window : line=(beg_lw_chicane,
	d45chaa,wsebsy1_4_prelw, 
  laser4,wsebsy1_4_postlw,bpmw047,d45chab, !replaced laser4 with marker for pol sim deacon 11_6_07 
    qf45chi,bpmq047,mmover,qf45chi,d45chb, 
    qd45chi,bpmq047,mmover,qd45chi,d45chc, 
    begpol,s1, 
    bpcp,s2,dpcbb,s3,bpcp,s4,dpcbb,s5,bpcp,s6, 
    dpcbboA,s7,leadplate,s8,cher,s9,bpcm,s10,dpcbb,s11,bpcm,s12,dpcbb,s13,bpcm,s14, 
    dpcbc,s15,cebsye,s16,bpme047,s17, 
    dpcbbi,s18,pre_pol,pol,s19,post_pol,dpcbbi,s21, !pol->laser4 
    bpcm,s22,dpcbb,s23,bpcm,s24,dpcbb,s25,bpcm,s26,dpcbbo,s27, 
    bpcp,s28,dpcbb,s29,bpcp,s30,dpcbb,s31,bpcp,s32,dpcdet_half,s33,poldet,s34,dpcdet_half,s35, !deacon 
    endpol, 
    qd45cho,bpmq047,mmover,qd45cho,d45chb, 
    qf45cho,bpmq047,mmover,qf45cho,d45chk, 
    end_ebsy1) ; 

!========================================
!For studying beam pipe showering
!----------------------------------------

lw_chicane_bps : line=(beg_lw_chicane,
	d45chaa,wsebsy1_4_prelw,laser4, 
  wsebsy1_4_postlw,bpmw047,d45chab, 
    qf45chi,bpmq047,mmover,qf45chi,d45chb, 
    qd45chi,bpmq047,mmover,qd45chi,d45chc, 
    begpol,s1, 
    bpcp,s2,dpcbb,s3,bpcp,s4,dpcbb,s5,bpcp,s6, 
    dpcbbo_bps_A_WINDOW,bps_sampling_section_WINDOW,dpcbbo_bps_B_WINDOW,dbps2_WINDOW,s9,bpcm,s10,dpcbb,s11,bpcm,s12,dpcbb,s13,bpcm,s14, 
    dpcbc,s15,cebsye,s16,bpme047,s17, 
    dpcbbi,s18,pre_pol,pol,s19,post_pol,dpcbbi,s21,  
    bpcm,s22,dpcbb,s23,bpcm,s24,dpcbb,s25,bpcm,s26,dpcbbo,s27, 
    bpcp,s28,dpcbb,s29,bpcp,s30,dpcbb,s31,bpcp,s32,dpcdet_half,s33,poldet,s34,dpcdet_half,s35, !deacon 
    endpol, 
    qd45cho,bpmq047,mmover,qd45cho,d45chb, 
    qf45cho,bpmq047,mmover,qf45cho,d45chk, 
    end_ebsy1) ; 

lw_chicane_bps_no_window : line=(beg_lw_chicane,
	d45chaa,wsebsy1_4_prelw,laser4, 
  wsebsy1_4_postlw,bpmw047,d45chab, 
    qf45chi,bpmq047,mmover,qf45chi,d45chb, 
    qd45chi,bpmq047,mmover,qd45chi,d45chc, 
    begpol,s1, 
    bpcp,s2,dpcbb,s3,bpcp,s4,dpcbb,s5,bpcp,s6, 
    dpcbbo_bps_A,bps_sampling_section,dpcbbo_bps_B,dbps2,s9,bpcm,s10,dpcbb,s11,bpcm,s12,dpcbb,s13,bpcm,s14, 
    dpcbc,s15,cebsye,s16,bpme047,s17, 
    dpcbbi,s18,pre_pol,pol,s19,post_pol,dpcbbi,s21,  
    bpcm,s22,dpcbb,s23,bpcm,s24,dpcbb,s25,bpcm,s26,dpcbbo,s27, 
    bpcp,s28,dpcbb,s29,bpcp,s30,dpcbb,s31,bpcp,s32,dpcdet_half,s33,poldet,s34,dpcdet_half,s35, !deacon 
    endpol, 
    qd45cho,bpmq047,mmover,qd45cho,d45chb, 
    qf45cho,bpmq047,mmover,qf45cho,d45chk, 
    end_ebsy1) ; 


ebsy1_short : line=( 
    beg_ebsy1,
    dmls,
    qmbsy1,bpmq315,mmover,qmbsy1,dqqc,dqqc,
    qmbsy1,bpmq315,mmover,qmbsy1,dmbsy1,
    qmbsy2,bpmq315,mmover,qmbsy2,dqqc,dqqc,
    qmbsy2,bpmq315,mmover,qmbsy2,dmbsy2,cebsy1,dcqebsy,
    qf90c,bpmq315,mmover,qf90c,dqqc,dqqc,
    qf90c,bpmq315,mmover,qf90c,d90ca,cebsy2,dcqebsy,
    qd90c,bpmq315,mmover,qd90c,dqqc,dqqc,
    qd90c,bpmq315,mmover,qd90c,d90cb,cebsy3,dcqebsy,
    qf90,bpmq047,mmover,qf90,d90a,
    sq1,sq1,d90b,
    qd90,bpmq047,mmover,qd90,d90,
    qf90,bpmq047,mmover,qf90,d90a,
    sq2,sq2,d90b,
    qd90,bpmq047,mmover,qd90,d180a,
    qf180,bpmq047,mmover,qf180,d180b,
    qd180,bpmq047,mmover,qd180,d180b,
    qf180,bpmq047,mmover,qf180,d180aa,
    sq3,sq3,d180ab,
    qd90,bpmq047,mmover,qd90,d90,
    qf90,bpmq047,mmover,qf90,d90a,
    sq4,sq4,dfb1,fbcxy,dfb2,fbkxy,dfb3,
    qd90,bpmmb047,mmover,qd90,d90,
    qf90,bpmmb047,mmover,qf90,dfb4,fbcxy,dfb2,fbkxy,dfb3,
    qd9045a,bpmmb047,mmover,qd9045a,d9045ba,
    wsebsy1_1,bpmw047,d9045bb,
    qf9045,bpmmb047,mmover,qf9045,d45,
    qd9045b,bpmmb047,mmover,qd9045b,d45a,wsebsy1_2,bpmw047,d45b,
    qf45,bpmmb047,mmover,qf45,d45,
    qd45,bpmmb047,mmover,qd45,d45a,wsebsy1_3,bpmw047,d45b,
    qf45,bpmmb047,mmover,qf45,d45,
    qd45,bpmmb047,mmover,qd45,d45chaa,wsebsy1_4_prelw,
		laser4,wsebsy1_4_postlw,bpmw047,d45chab,
    qf45chi,bpmq047,mmover,qf45chi,d45chb,
    qd45chi,bpmq047,mmover,qd45chi,d45chc,
    begpol,
    bpcp,dpcbb,bpcp,dpcbb,bpcp,
    dpcbboA,pre_lwdet,leadplate,lwdet,dpcbboB) ;

